<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2563eb">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%232563eb' width='100' height='100'/><text y='75' font-size='70' fill='white' text-anchor='middle' x='50'>‚öΩ</text></svg>">
    <title>Football Stats</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { -webkit-tap-highlight-color: transparent; }
        body { overscroll-behavior-y: contain; touch-action: pan-y; }
        .safe-area { padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom); }
        @supports (orientation: landscape) {
            @media (orientation: landscape) {
                .landscape-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }
            }
        }
        .offline-banner { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen safe-area">
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        const { useState, useEffect } = React;
        const FootballPWA = () => {
            const [selectedLeague, setSelectedLeague] = useState('epl');
            const [isOnline, setIsOnline] = useState(navigator.onLine);
            const [installPrompt, setInstallPrompt] = useState(null);
            const [expandedMatch, setExpandedMatch] = useState(null);

            useEffect(() => {
                const handleOnline = () => setIsOnline(true);
                const handleOffline = () => setIsOnline(false);
                window.addEventListener('online', handleOnline);
                window.addEventListener('offline', handleOffline);
                const handleInstall = (e) => { e.preventDefault(); setInstallPrompt(e); };
                window.addEventListener('beforeinstallprompt', handleInstall);
                return () => {
                    window.removeEventListener('online', handleOnline);
                    window.removeEventListener('offline', handleOffline);
                    window.removeEventListener('beforeinstallprompt', handleInstall);
                };
            }, []);

            const handleInstallClick = async () => {
                if (!installPrompt) return;
                installPrompt.prompt();
                await installPrompt.userChoice;
                setInstallPrompt(null);
            };

            const calculateGoalStats = (matches) => {
                const total = matches.length;
                let over15=0, over25=0, over35=0, btts=0, scored=0, conceded=0, totalScored=0, totalConceded=0;
                matches.forEach(m => {
                    const [h, a] = m.score.split('-').map(Number);
                    const teamGoals = m.venue === 'home' ? h : a;
                    const oppGoals = m.venue === 'home' ? a : h;
                    if (h+a > 1.5) over15++;
                    if (h+a > 2.5) over25++;
                    if (h+a > 3.5) over35++;
                    if (h>0 && a>0) btts++;
                    if (teamGoals>0) scored++;
                    if (oppGoals>0) conceded++;
                    totalScored += teamGoals;
                    totalConceded += oppGoals;
                });
                return {
                    over15: Math.round((over15/total)*100),
                    over25: Math.round((over25/total)*100),
                    over35: Math.round((over35/total)*100),
                    btts: Math.round((btts/total)*100),
                    scored: Math.round((scored/total)*100),
                    conceded: Math.round((conceded/total)*100),
                    avgScored: (totalScored/total).toFixed(1),
                    avgConceded: (totalConceded/total).toFixed(1),
                };
            };

            const calculateFormScore = (form) => {
                const pts = form.split('').reduce((t, r) => t + (r==='W'?3:r==='D'?1:0), 0);
                return (pts / (form.length * 3)) * 100;
            };

            const calculateH2HStats = (h2h, homeTeam) => {
                let hw=0, d=0, aw=0, btts=0;
                h2h.forEach(m => {
                    if (m.home !== homeTeam) return;
                    const [h, a] = m.score.split('-').map(Number);
                    if (h>a) hw++; else if (h===a) d++; else aw++;
                    if (h>0 && a>0) btts++;
                });
                const t = hw+d+aw;
                if (t===0) return {homeWin:50, draw:25, awayWin:25, btts:50};
                return {
                    homeWin: Math.round((hw/t)*100),
                    draw: Math.round((d/t)*100),
                    awayWin: Math.round((aw/t)*100),
                    btts: Math.round((btts/t)*100),
                };
            };

            const calculateMatchProbabilities = (match) => {
                const hStats = calculateGoalStats(match.homeForm.lastFive);
                const aStats = calculateGoalStats(match.awayForm.lastFive);
                const hForm = calculateFormScore(match.homeForm.home);
                const aForm = calculateFormScore(match.awayForm.away);
                const hOverall = calculateFormScore(match.homeForm.overall);
                const aOverall = calculateFormScore(match.awayForm.overall);
                const h2h = match.headToHead ? calculateH2HStats(match.headToHead, match.home) : null;

                const homeAdv = 10;
                const formW = ((hForm*0.7 + hOverall*0.3) - (aForm*0.7 + aOverall*0.3)) * 0.4;
                const goalDiff = (parseFloat(hStats.avgScored) - parseFloat(hStats.avgConceded)) - 
                               (parseFloat(aStats.avgScored) - parseFloat(aStats.avgConceded));
                const goalsW = goalDiff * 10;
                const h2hW = h2h ? ((h2h.homeWin - h2h.awayWin) * 0.2) : 0;
                
                let homeWin = 50 + homeAdv + formW + (goalsW * 0.3) + h2hW;
                homeWin = Math.max(10, Math.min(90, homeWin));
                const draw = 20 + (100 - Math.abs(homeWin - 50)) * 0.1;
                const awayWin = 100 - homeWin - draw;

                const bttsFromStats = ((hStats.scored + aStats.conceded)/2 + (aStats.scored + hStats.conceded)/2)/2;
                const bttsFromH2H = h2h ? h2h.btts : bttsFromStats;
                const btts = Math.round(bttsFromStats*0.7 + bttsFromH2H*0.3);

                const homeBttsWin = Math.round((homeWin/100) * (btts/100) * 100);
                const awayBttsWin = Math.round((awayWin/100) * (btts/100) * 100);
                const over25 = Math.round((hStats.over25 + aStats.over25)/2);

                return {
                    homeWin: Math.round(homeWin), draw: Math.round(draw), awayWin: Math.round(awayWin),
                    btts, over25, homeBttsWin, awayBttsWin,
                    homeClean: Math.round(100-aStats.scored), awayClean: Math.round(100-hStats.scored),
                };
            };

            const leagues = {
                epl: {
                    name: 'Premier League', flag: 'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø',
                    matches: [
                        {
                            id: 1, home: 'Arsenal', away: 'Man City', homeScore: 2, awayScore: 1, status: 'final', date: 'Feb 14',
                            homeForm: { 
                                overall: 'WWDWW', home: 'WWWDW',
                                lastFive: [
                                    { vs: 'Chelsea', score: '3-1', result: 'W', venue: 'home' },
                                    { vs: 'Liverpool', score: '2-2', result: 'D', venue: 'home' },
                                    { vs: 'Spurs', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Brighton', score: '3-0', result: 'W', venue: 'home' },
                                    { vs: 'Everton', score: '4-0', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'WWLWW', away: 'WWLWL',
                                lastFive: [
                                    { vs: 'Newcastle', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Aston Villa', score: '1-3', result: 'L', venue: 'away' },
                                    { vs: 'Wolves', score: '3-0', result: 'W', venue: 'away' },
                                    { vs: 'West Ham', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Fulham', score: '1-2', result: 'L', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Sep 22, 2025', home: 'Man City', away: 'Arsenal', score: '2-2' },
                                { date: 'Apr 28, 2025', home: 'Arsenal', away: 'Man City', score: '1-0' },
                                { date: 'Dec 31, 2024', home: 'Man City', away: 'Arsenal', score: '1-1' }
                            ]
                        },
                        {
                            id: 2, home: 'Liverpool', away: 'Chelsea', homeScore: 3, awayScore: 2, status: 'final', date: 'Feb 15',
                            homeForm: { 
                                overall: 'WWWWL', home: 'WWWWW',
                                lastFive: [
                                    { vs: 'Man United', score: '4-1', result: 'W', venue: 'home' },
                                    { vs: 'Brighton', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Newcastle', score: '3-1', result: 'W', venue: 'home' },
                                    { vs: 'Aston Villa', score: '2-1', result: 'W', venue: 'home' },
                                    { vs: 'Spurs', score: '3-0', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'LWWDW', away: 'LWWDL',
                                lastFive: [
                                    { vs: 'Arsenal', score: '1-2', result: 'L', venue: 'away' },
                                    { vs: 'Fulham', score: '1-1', result: 'D', venue: 'away' },
                                    { vs: 'Everton', score: '2-0', result: 'W', venue: 'away' },
                                    { vs: 'Wolves', score: '3-1', result: 'W', venue: 'away' },
                                    { vs: 'West Ham', score: '0-2', result: 'L', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Oct 20, 2025', home: 'Chelsea', away: 'Liverpool', score: '1-2' },
                                { date: 'Aug 18, 2025', home: 'Liverpool', away: 'Chelsea', score: '2-0' },
                                { date: 'Jan 31, 2025', home: 'Chelsea', away: 'Liverpool', score: '0-0' }
                            ]
                        },
                        {
                            id: 3, home: 'Man United', away: 'Tottenham', homeScore: null, awayScore: null, status: 'upcoming', date: 'Feb 16',
                            homeForm: { 
                                overall: 'WDLWW', home: 'WWDWL',
                                lastFive: [
                                    { vs: 'Newcastle', score: '3-2', result: 'W', venue: 'home' },
                                    { vs: 'Aston Villa', score: '1-2', result: 'L', venue: 'home' },
                                    { vs: 'Wolves', score: '2-2', result: 'D', venue: 'home' },
                                    { vs: 'Everton', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Brighton', score: '3-1', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'DWWLW', away: 'DLWWL',
                                lastFive: [
                                    { vs: 'Liverpool', score: '1-4', result: 'L', venue: 'away' },
                                    { vs: 'Chelsea', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Arsenal', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Man City', score: '1-1', result: 'D', venue: 'away' },
                                    { vs: 'West Ham', score: '0-2', result: 'L', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Sep 29, 2025', home: 'Tottenham', away: 'Man United', score: '0-3' },
                                { date: 'May 12, 2025', home: 'Man United', away: 'Tottenham', score: '2-2' },
                                { date: 'Jan 14, 2025', home: 'Tottenham', away: 'Man United', score: '2-0' }
                            ]
                        }
                    ]
                },
                laliga: {
                    name: 'La Liga', flag: 'üá™üá∏',
                    matches: [
                        {
                            id: 4, home: 'Real Madrid', away: 'Barcelona', homeScore: null, awayScore: null, status: 'upcoming', date: 'Feb 16',
                            homeForm: { 
                                overall: 'WWWWW', home: 'WWWWW',
                                lastFive: [
                                    { vs: 'Sevilla', score: '3-0', result: 'W', venue: 'home' },
                                    { vs: 'Atletico', score: '2-1', result: 'W', venue: 'home' },
                                    { vs: 'Valencia', score: '4-1', result: 'W', venue: 'home' },
                                    { vs: 'Getafe', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Villarreal', score: '3-1', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'WWDWW', away: 'WWDWL',
                                lastFive: [
                                    { vs: 'Athletic', score: '1-2', result: 'L', venue: 'away' },
                                    { vs: 'Real Sociedad', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Betis', score: '1-1', result: 'D', venue: 'away' },
                                    { vs: 'Osasuna', score: '3-0', result: 'W', venue: 'away' },
                                    { vs: 'Girona', score: '2-1', result: 'W', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Oct 26, 2025', home: 'Barcelona', away: 'Real Madrid', score: '0-4' },
                                { date: 'Apr 21, 2025', home: 'Real Madrid', away: 'Barcelona', score: '3-2' },
                                { date: 'Oct 28, 2024', home: 'Barcelona', away: 'Real Madrid', score: '1-2' }
                            ]
                        }
                    ]
                }
            };

            const currentMatches = leagues[selectedLeague].matches;
            const StatusBadge = ({ status }) => {
                if (status === 'final') return <span className="px-2 py-1 bg-gray-700 text-white text-xs rounded-full">FT</span>;
                if (status === 'upcoming') return <span className="px-2 py-1 bg-blue-600 text-white text-xs rounded-full">Upcoming</span>;
                return <span className="px-2 py-1 bg-green-600 text-white text-xs rounded-full">Live</span>;
            };

            const CompactMatchCard = ({ match }) => {
                const hStats = calculateGoalStats(match.homeForm.lastFive);
                const aStats = calculateGoalStats(match.awayForm.lastFive);
                const prob = calculateMatchProbabilities(match);
                const isExp = expandedMatch === match.id;

                return (
                    <div className="bg-white rounded-xl shadow-lg overflow-hidden">
                        <div className="p-3 border-b">
                            <div className="flex justify-between items-center mb-2">
                                <div className="text-xs text-gray-500">üìÖ {match.date}</div>
                                <StatusBadge status={match.status} />
                            </div>
                            <div className="space-y-2">
                                <div className="flex items-center justify-between">
                                    <div className="font-bold text-sm">{match.home}</div>
                                    {match.status === 'final' && <div className="text-xl font-bold text-blue-600">{match.homeScore}</div>}
                                </div>
                                <div className="flex items-center justify-between">
                                    <div className="font-bold text-sm">{match.away}</div>
                                    {match.status === 'final' && <div className="text-xl font-bold text-blue-600">{match.awayScore}</div>}
                                </div>
                            </div>
                        </div>

                        <div className="p-3 bg-gradient-to-r from-indigo-50 to-purple-50">
                            <div className="text-xs font-bold mb-2">üéØ Predictions</div>
                            <div className="grid grid-cols-3 gap-2 mb-3">
                                <div className="bg-white rounded-lg p-2 text-center">
                                    <div className="text-xs text-gray-500">Home</div>
                                    <div className="text-lg font-bold text-green-600">{prob.homeWin}%</div>
                                </div>
                                <div className="bg-white rounded-lg p-2 text-center">
                                    <div className="text-xs text-gray-500">Draw</div>
                                    <div className="text-lg font-bold text-yellow-600">{prob.draw}%</div>
                                </div>
                                <div className="bg-white rounded-lg p-2 text-center">
                                    <div className="text-xs text-gray-500">Away</div>
                                    <div className="text-lg font-bold text-red-600">{prob.awayWin}%</div>
                                </div>
                            </div>
                            <div className="grid grid-cols-2 gap-2">
                                <div className="bg-white rounded p-2 text-xs">
                                    <div className="text-gray-500">BTTS</div>
                                    <div className="font-bold text-purple-600">{prob.btts}%</div>
                                </div>
                                <div className="bg-white rounded p-2 text-xs">
                                    <div className="text-gray-500">O2.5</div>
                                    <div className="font-bold text-blue-600">{prob.over25}%</div>
                                </div>
                                <div className="bg-white rounded p-2 text-xs">
                                    <div className="text-gray-500">Home BTTS+W</div>
                                    <div className="font-bold text-green-600">{prob.homeBttsWin}%</div>
                                </div>
                                <div className="bg-white rounded p-2 text-xs">
                                    <div className="text-gray-500">Away BTTS+W</div>
                                    <div className="font-bold text-red-600">{prob.awayBttsWin}%</div>
                                </div>
                            </div>
                        </div>

                        <div className="p-3 bg-gray-50">
                            <div className="grid grid-cols-2 gap-3 text-xs">
                                <div>
                                    <div className="font-semibold text-gray-600 mb-1">üè† {match.home}</div>
                                    <div className="space-y-0.5">
                                        <div className="flex justify-between"><span>O1.5</span><span className="font-bold">{hStats.over15}%</span></div>
                                        <div className="flex justify-between"><span>O2.5</span><span className="font-bold">{hStats.over25}%</span></div>
                                        <div className="flex justify-between"><span>O3.5</span><span className="font-bold">{hStats.over35}%</span></div>
                                        <div className="flex justify-between"><span>BTTS</span><span className="font-bold">{hStats.btts}%</span></div>
                                        <div className="flex justify-between"><span>Scored</span><span className="font-bold">{hStats.scored}%</span></div>
                                        <div className="flex justify-between"><span>Conceded</span><span className="font-bold">{hStats.conceded}%</span></div>
                                    </div>
                                </div>
                                <div>
                                    <div className="font-semibold text-gray-600 mb-1">‚úàÔ∏è {match.away}</div>
                                    <div className="space-y-0.5">
                                        <div className="flex justify-between"><span>O1.5</span><span className="font-bold">{aStats.over15}%</span></div>
                                        <div className="flex justify-between"><span>O2.5</span><span className="font-bold">{aStats.over25}%</span></div>
                                        <div className="flex justify-between"><span>O3.5</span><span className="font-bold">{aStats.over35}%</span></div>
                                        <div className="flex justify-between"><span>BTTS</span><span className="font-bold">{aStats.btts}%</span></div>
                                        <div className="flex justify-between"><span>Scored</span><span className="font-bold">{aStats.scored}%</span></div>
                                        <div className="flex justify-between"><span>Conceded</span><span className="font-bold">{aStats.conceded}%</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button onClick={() => setExpandedMatch(isExp ? null : match.id)} className="w-full py-2 text-xs font-semibold text-blue-600 hover:bg-blue-50 border-t">
                            {isExp ? '‚ñ≤ Hide Details' : '‚ñº Show Form & H2H'}
                        </button>

                        {isExp && (
                            <div className="p-4 bg-gray-50 space-y-4 text-xs">
                                <div>
                                    <div className="font-bold text-sm mb-2">üè† {match.home}</div>
                                    <div className="space-y-2">
                                        <div><span className="text-gray-600">Home (L5): </span>{match.homeForm.home.split('').map((f, i) => (
                                            <span key={i} className={`inline-block w-6 h-6 text-center rounded ml-1 ${f==='W'?'bg-green-500':f==='D'?'bg-yellow-500':'bg-red-500'} text-white`}>{f}</span>
                                        ))}</div>
                                        <div><span className="text-gray-600">Overall (L5): </span>{match.homeForm.overall.split('').map((f, i) => (
                                            <span key={i} className={`inline-block w-6 h-6 text-center rounded ml-1 ${f==='W'?'bg-green-500':f==='D'?'bg-yellow-500':'bg-red-500'} text-white`}>{f}</span>
                                        ))}</div>
                                        <div className="pt-1"><span className="font-semibold">Last 5 Home:</span>
                                            {match.homeForm.lastFive.map((m, i) => <div key={i} className="ml-2 mt-1">‚Ä¢ vs {m.vs}: {m.score}</div>)}
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div className="font-bold text-sm mb-2">‚úàÔ∏è {match.away}</div>
                                    <div className="space-y-2">
                                        <div><span className="text-gray-600">Away (L5): </span>{match.awayForm.away.split('').map((f, i) => (
                                            <span key={i} className={`inline-block w-6 h-6 text-center rounded ml-1 ${f==='W'?'bg-green-500':f==='D'?'bg-yellow-500':'bg-red-500'} text-white`}>{f}</span>
                                        ))}</div>
                                        <div><span className="text-gray-600">Overall (L5): </span>{match.awayForm.overall.split('').map((f, i) => (
                                            <span key={i} className={`inline-block w-6 h-6 text-center rounded ml-1 ${f==='W'?'bg-green-500':f==='D'?'bg-yellow-500':'bg-red-500'} text-white`}>{f}</span>
                                        ))}</div>
                                        <div className="pt-1"><span className="font-semibold">Last 5 Away:</span>
                                            {match.awayForm.lastFive.map((m, i) => <div key={i} className="ml-2 mt-1">‚Ä¢ @ {m.vs}: {m.score}</div>)}
                                        </div>
                                    </div>
                                </div>
                                {match.headToHead && (
                                    <div>
                                        <div className="font-bold text-sm mb-2">üîÑ H2H (at {match.home})</div>
                                        {match.headToHead.filter(h => h.home === match.home).map((h, i) => (
                                            <div key={i} className="bg-white p-2 rounded mb-1">{h.date}: {h.home} {h.score} {h.away}</div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}
                    </div>
                );
            };

            return (
                <div className="min-h-screen pb-6">
                    {!isOnline && <div className="offline-banner text-white p-3 text-center text-sm font-medium">üì° Offline</div>}
                    {installPrompt && (
                        <div className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-3">
                            <div className="flex items-center justify-between max-w-4xl mx-auto px-2">
                                <div className="flex-1"><p className="font-semibold text-sm">Install App</p></div>
                                <button onClick={handleInstallClick} className="ml-3 px-3 py-1.5 bg-white text-blue-600 rounded-lg font-semibold text-sm">Install</button>
                            </div>
                        </div>
                    )}
                    <div className="max-w-4xl mx-auto px-3 pt-4">
                        <div className="bg-white rounded-2xl shadow-xl p-4 mb-4">
                            <div className="flex items-center gap-2 mb-3">
                                <div className="text-2xl">‚öΩ</div>
                                <h1 className="text-xl font-bold">Football Stats & Predictions</h1>
                            </div>
                            <div className="flex gap-2">
                                <button onClick={() => { setSelectedLeague('epl'); setExpandedMatch(null); }}
                                    className={`flex-1 px-3 py-2 rounded-xl font-semibold text-sm ${selectedLeague==='epl'?'bg-blue-600 text-white':'bg-gray-100'}`}>
                                    {leagues.epl.flag} EPL
                                </button>
                                <button onClick={() => { setSelectedLeague('laliga'); setExpandedMatch(null); }}
                                    className={`flex-1 px-3 py-2 rounded-xl font-semibold text-sm ${selectedLeague==='laliga'?'bg-blue-600 text-white':'bg-gray-100'}`}>
                                    {leagues.laliga.flag} La Liga
                                </button>
                            </div>
                        </div>
                        <div className="landscape-grid space-y-4">
                            {currentMatches.map(m => <CompactMatchCard key={m.id} match={m} />)}
                        </div>
                    </div>
                </div>
            );
        };
        ReactDOM.render(<FootballPWA />, document.getElementById('root'));
    </script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `const CACHE_NAME='football-stats-v5';const urlsToCache=['/'];self.addEventListener('install',event=>{event.waitUntil(caches.open(CACHE_NAME).then(cache=>cache.addAll(urlsToCache)))});self.addEventListener('fetch',event=>{event.respondWith(caches.match(event.request).then(response=>response||fetch(event.request)))});`;
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                navigator.serviceWorker.register(swUrl);
            });
        }
    </script>
</body>
</html>