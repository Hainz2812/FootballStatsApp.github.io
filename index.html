<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2563eb">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%232563eb' width='100' height='100'/><text y='75' font-size='70' fill='white' text-anchor='middle' x='50'>‚öΩ</text></svg>">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiRXVyb3BlYW4gRm9vdGJhbGwgU3RhdHMiLCJzaG9ydF9uYW1lIjoiRm9vdGJhbGwgU3RhdHMiLCJzdGFydF91cmwiOiIvIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiI2ZmZmZmZiIsInRoZW1lX2NvbG9yIjoiIzI1NjNlYiIsImlkb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJz48cmVjdCBmaWxsPSclMjMyNTYzZWInIHdpZHRoPScxMDAnIGhlaWdodD0nMTAwJy8+PHRleHQgeT0nNzUnIGZvbnQtc2l6ZT0nNzAnIGZpbGw9J3doaXRlJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyB4PSc1MCc+4pq94L2QPC90ZXh0Pjwvc3ZnPiIsInNpemVzIjoiNTEyeDUxMiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">
    <title>Football Stats</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
        }
        body {
            overscroll-behavior-y: contain;
            touch-action: pan-y;
        }
        .safe-area {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
        }
        .form-letter {
            transition: transform 0.2s;
        }
        .form-letter:active {
            transform: scale(0.95);
        }
        @keyframes slideIn {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes fillBar {
            from {
                width: 0%;
            }
            to {
                width: var(--target-width);
            }
        }
        .progress-bar {
            animation: fillBar 0.8s ease-out forwards;
            width: 0%;
        }
        .offline-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen safe-area">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        const { useState, useEffect } = React;

        const FootballPWA = () => {
            const [selectedLeague, setSelectedLeague] = useState('epl');
            const [selectedMatch, setSelectedMatch] = useState(null);
            const [activeTab, setActiveTab] = useState('recent');
            const [isOnline, setIsOnline] = useState(navigator.onLine);
            const [installPrompt, setInstallPrompt] = useState(null);

            useEffect(() => {
                const handleOnline = () => setIsOnline(true);
                const handleOffline = () => setIsOnline(false);
                
                window.addEventListener('online', handleOnline);
                window.addEventListener('offline', handleOffline);

                const handleInstall = (e) => {
                    e.preventDefault();
                    setInstallPrompt(e);
                };
                window.addEventListener('beforeinstallprompt', handleInstall);

                return () => {
                    window.removeEventListener('online', handleOnline);
                    window.removeEventListener('offline', handleOffline);
                    window.removeEventListener('beforeinstallprompt', handleInstall);
                };
            }, []);

            const handleInstallClick = async () => {
                if (!installPrompt) return;
                installPrompt.prompt();
                const { outcome } = await installPrompt.userChoice;
                setInstallPrompt(null);
            };

            // Calculate goal statistics from match results
            const calculateGoalStats = (matches) => {
                const totalMatches = matches.length;
                let over15 = 0;
                let over25 = 0;
                let over35 = 0;

                matches.forEach(match => {
                    const [home, away] = match.score.split('-').map(Number);
                    const totalGoals = home + away;
                    
                    if (totalGoals > 1.5) over15++;
                    if (totalGoals > 2.5) over25++;
                    if (totalGoals > 3.5) over35++;
                });

                return {
                    over15: Math.round((over15 / totalMatches) * 100),
                    over25: Math.round((over25 / totalMatches) * 100),
                    over35: Math.round((over35 / totalMatches) * 100),
                    totalMatches
                };
            };

            const leagues = {
                epl: {
                    name: 'Premier League',
                    flag: 'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø',
                    matches: [
                        {
                            id: 1,
                            home: 'Arsenal',
                            away: 'Man City',
                            homeScore: 2,
                            awayScore: 1,
                            status: 'final',
                            date: 'Feb 14',
                            homeForm: { 
                                overall: 'WWDWW', 
                                home: 'WWWDW', 
                                lastFive: [
                                    { vs: 'Chelsea', score: '3-1', result: 'W', venue: 'home' },
                                    { vs: 'Liverpool', score: '2-2', result: 'D', venue: 'home' },
                                    { vs: 'Spurs', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Brighton', score: '3-0', result: 'W', venue: 'home' },
                                    { vs: 'Everton', score: '4-0', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'WWLWW', 
                                away: 'WWLWL', 
                                lastFive: [
                                    { vs: 'Newcastle', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Aston Villa', score: '1-3', result: 'L', venue: 'away' },
                                    { vs: 'Wolves', score: '3-0', result: 'W', venue: 'away' },
                                    { vs: 'West Ham', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Fulham', score: '1-2', result: 'L', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Sep 22, 2025', home: 'Man City', away: 'Arsenal', score: '2-2' },
                                { date: 'Apr 28, 2025', home: 'Arsenal', away: 'Man City', score: '1-0' },
                                { date: 'Dec 31, 2024', home: 'Man City', away: 'Arsenal', score: '1-1' }
                            ]
                        },
                        {
                            id: 2,
                            home: 'Liverpool',
                            away: 'Chelsea',
                            homeScore: 3,
                            awayScore: 2,
                            status: 'final',
                            date: 'Feb 15',
                            homeForm: { 
                                overall: 'WWWWL', 
                                home: 'WWWWW', 
                                lastFive: [
                                    { vs: 'Man United', score: '4-1', result: 'W', venue: 'home' },
                                    { vs: 'Brighton', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Newcastle', score: '3-1', result: 'W', venue: 'home' },
                                    { vs: 'Aston Villa', score: '2-1', result: 'W', venue: 'home' },
                                    { vs: 'Spurs', score: '3-0', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'LWWDW', 
                                away: 'LWWDL', 
                                lastFive: [
                                    { vs: 'Arsenal', score: '1-2', result: 'L', venue: 'away' },
                                    { vs: 'Fulham', score: '1-1', result: 'D', venue: 'away' },
                                    { vs: 'Everton', score: '2-0', result: 'W', venue: 'away' },
                                    { vs: 'Wolves', score: '3-1', result: 'W', venue: 'away' },
                                    { vs: 'West Ham', score: '0-2', result: 'L', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Oct 20, 2025', home: 'Chelsea', away: 'Liverpool', score: '1-2' },
                                { date: 'Aug 18, 2025', home: 'Liverpool', away: 'Chelsea', score: '2-0' },
                                { date: 'Jan 31, 2025', home: 'Chelsea', away: 'Liverpool', score: '0-0' }
                            ]
                        },
                        {
                            id: 3,
                            home: 'Man United',
                            away: 'Tottenham',
                            homeScore: null,
                            awayScore: null,
                            status: 'upcoming',
                            date: 'Feb 16',
                            homeForm: { 
                                overall: 'WDLWW', 
                                home: 'WWDWL', 
                                lastFive: [
                                    { vs: 'Newcastle', score: '3-2', result: 'W', venue: 'home' },
                                    { vs: 'Aston Villa', score: '1-2', result: 'L', venue: 'home' },
                                    { vs: 'Wolves', score: '2-2', result: 'D', venue: 'home' },
                                    { vs: 'Everton', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Brighton', score: '3-1', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'DWWLW', 
                                away: 'DLWWL', 
                                lastFive: [
                                    { vs: 'Liverpool', score: '1-4', result: 'L', venue: 'away' },
                                    { vs: 'Chelsea', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Arsenal', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Man City', score: '1-1', result: 'D', venue: 'away' },
                                    { vs: 'West Ham', score: '0-2', result: 'L', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Sep 29, 2025', home: 'Tottenham', away: 'Man United', score: '0-3' },
                                { date: 'May 12, 2025', home: 'Man United', away: 'Tottenham', score: '2-2' },
                                { date: 'Jan 14, 2025', home: 'Tottenham', away: 'Man United', score: '2-0' }
                            ]
                        }
                    ]
                },
                laliga: {
                    name: 'La Liga',
                    flag: 'üá™üá∏',
                    matches: [
                        {
                            id: 4,
                            home: 'Real Madrid',
                            away: 'Barcelona',
                            homeScore: null,
                            awayScore: null,
                            status: 'upcoming',
                            date: 'Feb 16',
                            homeForm: { 
                                overall: 'WWWWW', 
                                home: 'WWWWW', 
                                lastFive: [
                                    { vs: 'Sevilla', score: '3-0', result: 'W', venue: 'home' },
                                    { vs: 'Atletico', score: '2-1', result: 'W', venue: 'home' },
                                    { vs: 'Valencia', score: '4-1', result: 'W', venue: 'home' },
                                    { vs: 'Getafe', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Villarreal', score: '3-1', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'WWDWW', 
                                away: 'WWDWL', 
                                lastFive: [
                                    { vs: 'Athletic', score: '1-2', result: 'L', venue: 'away' },
                                    { vs: 'Real Sociedad', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Betis', score: '1-1', result: 'D', venue: 'away' },
                                    { vs: 'Osasuna', score: '3-0', result: 'W', venue: 'away' },
                                    { vs: 'Girona', score: '2-1', result: 'W', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Oct 26, 2025', home: 'Barcelona', away: 'Real Madrid', score: '0-4' },
                                { date: 'Apr 21, 2025', home: 'Real Madrid', away: 'Barcelona', score: '3-2' },
                                { date: 'Oct 28, 2024', home: 'Barcelona', away: 'Real Madrid', score: '1-2' }
                            ]
                        },
                        {
                            id: 5,
                            home: 'Atletico Madrid',
                            away: 'Sevilla',
                            homeScore: 2,
                            awayScore: 1,
                            status: 'final',
                            date: 'Feb 14',
                            homeForm: { 
                                overall: 'WWDLW', 
                                home: 'WWWLW', 
                                lastFive: [
                                    { vs: 'Barcelona', score: '2-1', result: 'W', venue: 'home' },
                                    { vs: 'Valencia', score: '1-2', result: 'L', venue: 'home' },
                                    { vs: 'Betis', score: '3-0', result: 'W', venue: 'home' },
                                    { vs: 'Villarreal', score: '2-0', result: 'W', venue: 'home' },
                                    { vs: 'Athletic', score: '1-0', result: 'W', venue: 'home' }
                                ]
                            },
                            awayForm: { 
                                overall: 'LDWDL', 
                                away: 'LLDWL', 
                                lastFive: [
                                    { vs: 'Real Madrid', score: '0-3', result: 'L', venue: 'away' },
                                    { vs: 'Girona', score: '1-1', result: 'D', venue: 'away' },
                                    { vs: 'Osasuna', score: '2-1', result: 'W', venue: 'away' },
                                    { vs: 'Real Sociedad', score: '0-2', result: 'L', venue: 'away' },
                                    { vs: 'Getafe', score: '1-2', result: 'L', venue: 'away' }
                                ]
                            },
                            headToHead: [
                                { date: 'Oct 05, 2025', home: 'Sevilla', away: 'Atletico Madrid', score: '1-1' },
                                { date: 'Apr 02, 2025', home: 'Atletico Madrid', away: 'Sevilla', score: '2-0' },
                                { date: 'Dec 08, 2024', home: 'Sevilla', away: 'Atletico Madrid', score: '1-4' }
                            ]
                        }
                    ]
                }
            };

            const currentMatches = leagues[selectedLeague].matches;

            const getResultColor = (result) => {
                if (result === 'W') return 'bg-green-500';
                if (result === 'D') return 'bg-yellow-500';
                return 'bg-red-500';
            };

            const getPercentageColor = (percentage) => {
                if (percentage >= 80) return 'from-green-500 to-green-600';
                if (percentage >= 60) return 'from-blue-500 to-blue-600';
                if (percentage >= 40) return 'from-yellow-500 to-yellow-600';
                return 'from-red-500 to-red-600';
            };

            const StatusBadge = ({ status }) => {
                if (status === 'final') return <span className="px-2 py-1 bg-gray-700 text-white text-xs rounded-full font-medium">FT</span>;
                if (status === 'upcoming') return <span className="px-2 py-1 bg-blue-600 text-white text-xs rounded-full font-medium">Upcoming</span>;
                return <span className="px-2 py-1 bg-green-600 text-white text-xs rounded-full font-medium">Live</span>;
            };

            const GoalStatsDisplay = ({ stats, teamName, color = 'blue' }) => (
                <div className="bg-white rounded-xl p-4 shadow-md">
                    <h4 className="font-semibold text-sm text-gray-700 mb-4 flex items-center gap-2">
                        ‚öΩ Goal Statistics
                    </h4>
                    
                    <div className="space-y-4">
                        {/* Over 1.5 Goals */}
                        <div>
                            <div className="flex justify-between items-center mb-2">
                                <span className="text-sm font-medium text-gray-700">Over 1.5 Goals</span>
                                <span className="text-sm font-bold text-gray-900">{stats.over15}%</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                <div 
                                    className={`progress-bar h-3 rounded-full bg-gradient-to-r ${getPercentageColor(stats.over15)} shadow-sm`}
                                    style={{'--target-width': `${stats.over15}%`}}
                                ></div>
                            </div>
                            <div className="text-xs text-gray-500 mt-1">{Math.round(stats.over15 * stats.totalMatches / 100)} of {stats.totalMatches} matches</div>
                        </div>

                        {/* Over 2.5 Goals */}
                        <div>
                            <div className="flex justify-between items-center mb-2">
                                <span className="text-sm font-medium text-gray-700">Over 2.5 Goals</span>
                                <span className="text-sm font-bold text-gray-900">{stats.over25}%</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                <div 
                                    className={`progress-bar h-3 rounded-full bg-gradient-to-r ${getPercentageColor(stats.over25)} shadow-sm`}
                                    style={{'--target-width': `${stats.over25}%`}}
                                ></div>
                            </div>
                            <div className="text-xs text-gray-500 mt-1">{Math.round(stats.over25 * stats.totalMatches / 100)} of {stats.totalMatches} matches</div>
                        </div>

                        {/* Over 3.5 Goals */}
                        <div>
                            <div className="flex justify-between items-center mb-2">
                                <span className="text-sm font-medium text-gray-700">Over 3.5 Goals</span>
                                <span className="text-sm font-bold text-gray-900">{stats.over35}%</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                <div 
                                    className={`progress-bar h-3 rounded-full bg-gradient-to-r ${getPercentageColor(stats.over35)} shadow-sm`}
                                    style={{'--target-width': `${stats.over35}%`}}
                                ></div>
                            </div>
                            <div className="text-xs text-gray-500 mt-1">{Math.round(stats.over35 * stats.totalMatches / 100)} of {stats.totalMatches} matches</div>
                        </div>
                    </div>
                </div>
            );

            const FormDisplay = ({ form, label, icon }) => (
                <div className="bg-white rounded-xl p-4 shadow-sm">
                    <div className="flex items-center gap-2 mb-3">
                        <span className="text-lg">{icon}</span>
                        <h4 className="font-semibold text-sm text-gray-700">{label}</h4>
                    </div>
                    <div className="flex gap-1.5">
                        {form.split('').map((result, idx) => (
                            <div
                                key={idx}
                                className={`form-letter flex-1 h-10 ${getResultColor(result)} text-white text-sm font-bold rounded-lg flex items-center justify-center shadow-sm`}
                            >
                                {result}
                            </div>
                        ))}
                    </div>
                </div>
            );

            const RecentMatchesList = ({ matches }) => (
                <div className="space-y-2">
                    {matches.map((match, idx) => (
                        <div key={idx} className="flex items-center justify-between p-3 bg-white rounded-xl shadow-sm active:bg-gray-50">
                            <div className="flex items-center gap-3 flex-1 min-w-0">
                                <div className={`w-8 h-8 flex-shrink-0 ${getResultColor(match.result)} text-white text-xs font-bold rounded-lg flex items-center justify-center shadow-sm`}>
                                    {match.result}
                                </div>
                                <div className="flex-1 min-w-0">
                                    <div className="font-medium text-sm truncate">{match.venue === 'home' ? 'vs' : '@'} {match.vs}</div>
                                    <div className="text-xs text-gray-500">{match.venue === 'home' ? 'üè† Home' : '‚úàÔ∏è Away'}</div>
                                </div>
                            </div>
                            <div className="font-bold text-sm text-gray-800 ml-2">{match.score}</div>
                        </div>
                    ))}
                </div>
            );

            return (
                <div className="min-h-screen pb-6">
                    {/* Offline Banner */}
                    {!isOnline && (
                        <div className="offline-banner text-white p-3 text-center text-sm font-medium shadow-lg">
                            üì° Offline Mode - Showing cached data
                        </div>
                    )}

                    {/* Install Banner */}
                    {installPrompt && (
                        <div className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 shadow-lg">
                            <div className="flex items-center justify-between">
                                <div className="flex-1">
                                    <p className="font-semibold text-sm mb-1">Install Football Stats</p>
                                    <p className="text-xs opacity-90">Add to home screen for quick access</p>
                                </div>
                                <button
                                    onClick={handleInstallClick}
                                    className="ml-3 px-4 py-2 bg-white text-blue-600 rounded-lg font-semibold text-sm shadow-md active:scale-95 transition-transform"
                                >
                                    Install
                                </button>
                            </div>
                        </div>
                    )}

                    <div className="max-w-2xl mx-auto px-4 pt-6">
                        {/* Header */}
                        <div className="bg-white rounded-2xl shadow-xl p-5 mb-4">
                            <div className="flex items-center gap-3 mb-4">
                                <div className="text-3xl">‚öΩ</div>
                                <h1 className="text-2xl font-bold text-gray-800">Football Stats</h1>
                            </div>
                            
                            {/* League Selector */}
                            <div className="flex gap-2">
                                <button
                                    onClick={() => {
                                        setSelectedLeague('epl');
                                        setSelectedMatch(null);
                                    }}
                                    className={`flex-1 px-4 py-3 rounded-xl font-semibold text-sm transition-all active:scale-95 ${
                                        selectedLeague === 'epl'
                                            ? 'bg-blue-600 text-white shadow-lg'
                                            : 'bg-gray-100 text-gray-700'
                                    }`}
                                >
                                    {leagues.epl.flag} {leagues.epl.name}
                                </button>
                                <button
                                    onClick={() => {
                                        setSelectedLeague('laliga');
                                        setSelectedMatch(null);
                                    }}
                                    className={`flex-1 px-4 py-3 rounded-xl font-semibold text-sm transition-all active:scale-95 ${
                                        selectedLeague === 'laliga'
                                            ? 'bg-blue-600 text-white shadow-lg'
                                            : 'bg-gray-100 text-gray-700'
                                    }`}
                                >
                                    {leagues.laliga.flag} {leagues.laliga.name}
                                </button>
                            </div>
                        </div>

                        {/* Matches List */}
                        {!selectedMatch && (
                            <div className="space-y-3">
                                {currentMatches.map((match) => (
                                    <div
                                        key={match.id}
                                        onClick={() => setSelectedMatch(match)}
                                        className="bg-white rounded-2xl shadow-lg p-4 active:scale-98 transition-transform"
                                    >
                                        <div className="flex justify-between items-center mb-3">
                                            <div className="flex items-center gap-2 text-xs text-gray-500">
                                                üìÖ {match.date}
                                            </div>
                                            <StatusBadge status={match.status} />
                                        </div>
                                        
                                        <div className="space-y-2.5">
                                            <div className="flex items-center justify-between">
                                                <div className="font-semibold text-gray-800">{match.home}</div>
                                                {match.status === 'final' && (
                                                    <div className="text-2xl font-bold text-blue-600">{match.homeScore}</div>
                                                )}
                                            </div>
                                            
                                            <div className="flex items-center justify-between">
                                                <div className="font-semibold text-gray-800">{match.away}</div>
                                                {match.status === 'final' && (
                                                    <div className="text-2xl font-bold text-blue-600">{match.awayScore}</div>
                                                )}
                                            </div>
                                        </div>
                                        
                                        <div className="mt-3 pt-3 border-t border-gray-200 flex items-center justify-center text-blue-600 text-sm font-medium">
                                            View Stats & Goals ‚Üí
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* Match Details */}
                        {selectedMatch && (
                            <div className="slide-in">
                                <button
                                    onClick={() => setSelectedMatch(null)}
                                    className="mb-4 px-4 py-2.5 bg-white rounded-xl font-medium text-sm shadow-md active:scale-95 transition-transform flex items-center gap-2"
                                >
                                    ‚Üê Back to Matches
                                </button>

                                <div className="bg-white rounded-2xl shadow-xl p-5 mb-4">
                                    <h2 className="text-xl font-bold text-gray-800 mb-2">
                                        {selectedMatch.home} vs {selectedMatch.away}
                                    </h2>
                                    <div className="flex items-center gap-3 text-sm text-gray-600">
                                        üìÖ {selectedMatch.date}
                                        {selectedMatch.status === 'final' && (
                                            <span className="ml-2 font-bold text-lg text-blue-600">
                                                {selectedMatch.homeScore} - {selectedMatch.awayScore}
                                            </span>
                                        )}
                                    </div>
                                </div>

                                {/* Tabs */}
                                <div className="flex gap-2 mb-4">
                                    <button
                                        onClick={() => setActiveTab('recent')}
                                        className={`flex-1 px-4 py-3 rounded-xl font-medium text-sm transition-all ${
                                            activeTab === 'recent'
                                                ? 'bg-blue-600 text-white shadow-lg'
                                                : 'bg-white text-gray-600 shadow-md'
                                        }`}
                                    >
                                        üìä Form
                                    </button>
                                    <button
                                        onClick={() => setActiveTab('goals')}
                                        className={`flex-1 px-4 py-3 rounded-xl font-medium text-sm transition-all ${
                                            activeTab === 'goals'
                                                ? 'bg-blue-600 text-white shadow-lg'
                                                : 'bg-white text-gray-600 shadow-md'
                                        }`}
                                    >
                                        ‚öΩ Goals
                                    </button>
                                    <button
                                        onClick={() => setActiveTab('h2h')}
                                        className={`flex-1 px-4 py-3 rounded-xl font-medium text-sm transition-all ${
                                            activeTab === 'h2h'
                                                ? 'bg-blue-600 text-white shadow-lg'
                                                : 'bg-white text-gray-600 shadow-md'
                                        }`}
                                    >
                                        üîÑ H2H
                                    </button>
                                </div>

                                {activeTab === 'recent' && (
                                    <div className="space-y-6">
                                        {/* Home Team */}
                                        <div className="space-y-3">
                                            <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2 px-2">
                                                üè† {selectedMatch.home}
                                            </h3>
                                            
                                            <FormDisplay 
                                                form={selectedMatch.homeForm.overall} 
                                                label="Overall Form"
                                                icon="üìà"
                                            />
                                            
                                            <FormDisplay 
                                                form={selectedMatch.homeForm.home} 
                                                label="Home Form"
                                                icon="üè†"
                                            />
                                            
                                            <div className="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4">
                                                <h4 className="font-semibold text-sm text-gray-700 mb-3">Last 5 Home Matches</h4>
                                                <RecentMatchesList matches={selectedMatch.homeForm.lastFive} />
                                            </div>
                                        </div>

                                        {/* Away Team */}
                                        <div className="space-y-3">
                                            <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2 px-2">
                                                ‚úàÔ∏è {selectedMatch.away}
                                            </h3>
                                            
                                            <FormDisplay 
                                                form={selectedMatch.awayForm.overall} 
                                                label="Overall Form"
                                                icon="üìà"
                                            />
                                            
                                            <FormDisplay 
                                                form={selectedMatch.awayForm.away} 
                                                label="Away Form"
                                                icon="‚úàÔ∏è"
                                            />
                                            
                                            <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4">
                                                <h4 className="font-semibold text-sm text-gray-700 mb-3">Last 5 Away Matches</h4>
                                                <RecentMatchesList matches={selectedMatch.awayForm.lastFive} />
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {activeTab === 'goals' && (
                                    <div className="space-y-6">
                                        {/* Home Team Goal Stats */}
                                        <div className="space-y-3">
                                            <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2 px-2">
                                                üè† {selectedMatch.home} - Home Goals
                                            </h3>
                                            <GoalStatsDisplay 
                                                stats={calculateGoalStats(selectedMatch.homeForm.lastFive)}
                                                teamName={selectedMatch.home}
                                                color="blue"
                                            />
                                        </div>

                                        {/* Away Team Goal Stats */}
                                        <div className="space-y-3">
                                            <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2 px-2">
                                                ‚úàÔ∏è {selectedMatch.away} - Away Goals
                                            </h3>
                                            <GoalStatsDisplay 
                                                stats={calculateGoalStats(selectedMatch.awayForm.lastFive)}
                                                teamName={selectedMatch.away}
                                                color="purple"
                                            />
                                        </div>

                                        {/* Combined Stats Info */}
                                        <div className="bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-5 shadow-md">
                                            <h4 className="font-bold text-sm text-gray-800 mb-2 flex items-center gap-2">
                                                üí° What This Means
                                            </h4>
                                            <p className="text-xs text-gray-700 leading-relaxed">
                                                These percentages show how often matches involving each team had more than 1.5, 2.5, or 3.5 total goals in their last 5 home/away games. Higher percentages indicate more goal-heavy matches.
                                            </p>
                                        </div>
                                    </div>
                                )}

                                {activeTab === 'h2h' && (
                                    <div className="space-y-3">
                                        <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2 px-2 mb-4">
                                            üîÑ Previous Meetings
                                        </h3>
                                        {selectedMatch.headToHead.map((h2h, idx) => (
                                            <div key={idx} className="bg-white rounded-2xl p-4 shadow-md">
                                                <div className="flex items-center justify-between">
                                                    <div className="flex-1">
                                                        <div className="font-medium text-xs text-gray-500 mb-1">{h2h.date}</div>
                                                        <div className="font-semibold text-sm">{h2h.home} vs {h2h.away}</div>
                                                    </div>
                                                    <div className="text-2xl font-bold text-blue-600 ml-3">{h2h.score}</div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<FootballPWA />, document.getElementById('root'));
    </script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
        // Service Worker for offline support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `
                    const CACHE_NAME = 'football-stats-v2';
                    const urlsToCache = ['/'];
                    
                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(cache => cache.addAll(urlsToCache))
                        );
                    });
                    
                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request)
                                .then(response => response || fetch(event.request))
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed:', err));
            });
        }
    </script>
</body>
</html>